From 9841345482ddb8dd3ce84125d9f5fe591333c9b6 Mon Sep 17 00:00:00 2001
From: Matt Fullerton <matt.fullerton@gmail.com>
Date: Wed, 31 Jan 2018 16:20:03 +0000
Subject: [PATCH 10/18] Temp. disable dcat until bug is fixed, restore missing
 dataset-type-respecting change from ckan core

---
 ckan-home/ckan/controllers/package.py | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

diff --git a/ckan/controllers/package.py b/ckan/controllers/package.py
index 53ceb70..8f5328b 100644
--- a/ckan/controllers/package.py
+++ b/ckan/controllers/package.py
@@ -162,8 +162,9 @@ class PackageController(base.BaseController):
 
         def remove_field(key, value=None, replace=None):
             return h.remove_url_param(key, value=value, replace=replace,
-                                      controller='package', action='search')
-
+                                      controller='package', action='search',
+                                      alternative_url=package_type)
+                                      
         c.remove_field = remove_field
 
         sort_by = request.params.get('sort', None)
-- 
2.7.4

